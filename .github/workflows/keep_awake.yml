name: Hyper Guardian Keep-Awake Protocol

on:
  schedule:
    # 5분마다 한 번씩 앱을 깨웁니다 (최대 빈도 설정)
    - cron: '*/5 * * * *'
  workflow_dispatch: # 수동으로도 가동 가능하게 설정

jobs:
  ping_app:
    runs-on: ubuntu-latest
    steps:
      - name: Send Deep Survival Signal to Hyper Guardian (v13.1)
        run: |
          # Streamlit Cloud requires more than just a HEAD request to stay awake.
          # We send a full GET request with a browser-like User-Agent.
          curl -L -v -A "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36" \
               -H "Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8" \
               https://hyper-etf-guardian-kvkaanb3rkxwcisrmhxvn2.streamlit.app/
